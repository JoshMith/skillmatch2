<!-- skills-analytics.component.html -->
<div class="dashboard-container">
    <div class="sidebar">
        <div class="logo">
            <h2>SkillMatch AI</h2>
        </div>
        <nav class="menu">
            <div class="menu-item" (click)="navigate('/dashboard')">Dashboard</div>
            <div class="menu-item" (click)="navigate('/profile')">Profile</div>
            <div class="menu-item" (click)="navigate('/job-matches')">Job matches</div>
            <div class="menu-item active" (click)="navigate('/analytics')">Analytics</div>
            <div class="menu-item" (click)="navigate('/career-paths')">Career Paths</div>
            <div class="menu-item" (click)="navigate('/settings')">Settings</div>
        </nav>
        <div class="user-profile">
            <div class="user-avatar"></div>
            <span>User</span>
        </div>
    </div>

    <div class="main-content">
        <header class="content-header">
            <h1>Skills Analytics</h1>
            <div class="timeframe-selector">
                {{ selectedTimeframe }}
                <span class="arrow">&#9668;</span>
            </div>
        </header>

        <div class="analytics-grid">
            <!-- Market Demand Chart -->
            <div class="analytics-card">
                <h3>Your Skills Market Demand</h3>
                <div class="chart-container">
                    <div class="skills-chart">
                        <div *ngFor="let skill of skillsData" class="chart-bar">
                            <div class="bar" [style.height.%]="skill.value"></div>
                            <div class="skill-label">{{ skill.name }}</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Skills Gap Analysis -->
            <div class="analytics-card">
                <h3>Skills Gap Analysis</h3>
                <div class="gauge-container">
                    <div class="gauge">
                        <div class="gauge-legend">
                            <div class="legend-item your-skills">Your Skills</div>
                            <div class="legend-item market-gap">Market Demand Gap</div>
                        </div>
                        <div class="gauge-visual">
                            <div class="gauge-value">{{ skillMatchPercentage }}%</div>
                            <div class="gauge-label">Skills Match</div>
                        </div>
                    </div>
                    <div class="recommendation-box">
                        <div class="recommendation-title">Recommended Skill: {{ recommendedSkill }}</div>
                        <div class="recommendation-text">
                            Adding this skill could increase your match score by {{ matchScoreIncrease }}%
                        </div>
                    </div>
                </div>
            </div>

            <!-- Salary Insights -->
            <div class="analytics-card">
                <h3>Salary Insights</h3>
                <div class="salary-chart">
                    <div class="salary-line">
                        <div *ngFor="let value of salaryData.values; let i = index" class="salary-point">
                            <div class="point"></div>
                            <div class="salary-label">{{ value }}</div>
                            <div class="experience-label">{{ salaryData.years[i] }}</div>
                        </div>
                    </div>
                    <div class="salary-average"></div>
                </div>
            </div>

            <!-- Geographic Job Opportunities -->
            <div class="analytics-card">
                <h3>Geographic Job Opportunities</h3>
                <div class="map-container">
                    <div class="map">
                        <div class="bubble bubble-1"></div>
                        <div class="bubble bubble-2"></div>
                        <div class="bubble bubble-3"></div>
                        <div class="bubble bubble-4"></div>
                        <div class="bubble bubble-5"></div>
                    </div>
                    <div class="map-legend">
                        <div class="legend-item job-ops">Job Opportunities</div>
                        <div class="legend-item job-size">Size = Number of Jobs</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>